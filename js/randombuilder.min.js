var __extends=this&&this.__extends||function(t,n){function e(){this.constructor=t}for(var i in n)n.hasOwnProperty(i)&&(t[i]=n[i]);t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)},UnknownLibrary;!function(t){"use strict";var n=function(){function t(){}return t.getDate=function(){var t=new Date;return Number(t.getFullYear()+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2))},t.getTime=function(){return(new Date).getTime()},t}();t.Time=n;var e=function(){function t(){this.seed()}return t.prototype.seed=function(t){void 0===t&&(t=88675123),this.x=123456789,this.y=362436069,this.z=521288629,this.w=isFinite(t)?t:88675123},t.prototype.getSeed=function(){return this.w},t.prototype.getNameSeed=function(t){for(var n=0,e=0;e<t.length;e++)n+=t.charCodeAt(e);return n},t.prototype.rand=function(){var t=this.x^this.x<<11;return this.x=this.y,this.y=this.z,this.z=this.w,this.w=this.w^this.w>>19^(t^t>>8)},t.prototype.range=function(t,n){return this.rand()%(n-t+1)+t},t}();t.XorShift=e;var i=function(){function t(){}return t.Parse=function(t){var n={};if(!t)return n;var e=t.slice(1).split("&");return e.forEach(function(t,e){var i=t.split("=");void 0!==i[1]&&(n[i[0]]=i[1])}),n},t.Create=function(t){var n="?";for(var e in t)t.hasOwnProperty(e)&&t[e]&&(n+=(n.length<=1?"":"&")+e+"="+t[e]);return n.length<=1?null:n},t}();t.URLParser=i;var r=function(){function t(t,n){this.$http=t,this.$q=n}return t.prototype.load=function(t){var n=this.$q.defer();return this.$q.when(this.getJson(t)).then(function(t){return n.resolve(new s(t.status>=200&&t.status<=204,t.data))}),n.promise},t.prototype.getJson=function(t){return this.$http.get(t)},t}();t.LoadJson=r;var s=function(){function t(t,n){void 0===t&&(t=!1),this.status=t,this.data=n}return t}();t.Response=s;var a=function(){function t(){}return t.convert=function(t){var n=0;return t.forEach(function(t,e){n+=Number(t)*Math.pow(2,e)}),n},t}();t.Bitflag=a,function(t){t[t.primary=0]="primary",t[t.secondary=1]="secondary",t[t.tertiary=2]="tertiary"}(t.Priority||(t.Priority={}));var o=(t.Priority,function(){function t(){this.weight=1}return t}());t.Weighting=o;var u=function(){function t(){this.value=-1}return t}();t.Max=u;var h=function(){function t(t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.min=t,this.max=n}return t}();t.MinMax=h;var c;!function(t){var n=function(){function t(){}return t.Capitalize=function(){return function(t){return t=String(t),void 0!==t&&t.length>0?t.charAt(0).toLocaleUpperCase()+t.substr(1).toLocaleLowerCase():""}},t}();t.Filter=n}(c=t.Angular||(t.Angular={}))}(UnknownLibrary||(UnknownLibrary={}));var Mechwarrior;!function(t){"use strict";var n=function(t){function n(n){void 0===n&&(n=null),t.call(this),this.id=-1,null!==n&&(this.id=n.i,this.name=n.n,this.faction=n.f,this["class"]=n.c,this.type=void 0===n.t?c.MechType.Normal:n.t,this.hardpoints=new o({ballistic:n.h.b,energy:n.h.e,missile:n.h.m}))}return __extends(n,t),n}(UnknownLibrary.Weighting);t.MechLite=n;var e=function(t){function n(n){void 0===n&&(n=null),t.call(this),this.id=-1,this.description=null,null!==n&&(this.id=n.id,this.name=n.name,this.name_translated=n.name_translated,this.chassis=n.chassis,this.chassis_translated=n.chassis_translated,this.tons=n.tons,this.tons_fixed=n.tons_fixed,this.faction=n.faction,this["class"]=n["class"],this.type=n.type,this.omni=void 0===n.omni?!1:n.omni,this.ecm=void 0===n.ecm?!1:n.ecm,this.masc=void 0===n.masc?!1:n.masc,this.jumpjets=new i(n.jumpjets),this.armor=new r(n.armor),this.engine=new s(n.engine),this.upgrades=n.upgrades,this.hardpoints=n.hardpoints)}return __extends(n,t),n}(UnknownLibrary.Weighting);t.Mech=e;var i=function(){function t(t){void 0===t&&(t=null),this.stock=0,this.current=0,null!==t&&(this.max=t.max,this.current=this.stock=t.stock)}return t}();t.MechJumpjets=i;var r=function(){function t(t){void 0===t&&(t=null),this.max=0,this.stock=0,this.current=0,null!==t&&(this.max=t.max,this.current=this.stock=t.stock)}return t}();t.MechArmor=r;var s=function(){function t(t){void 0===t&&(t=null),this.min=0,this.max=0,null!==t&&(this.min=t.min,this.max=t.max,this.current=this.stock=new h(t.stock))}return t}();t.MechEngine=s;var a=function(){function t(){}return t}();t.MechUpgrades=a;var o=function(){function t(t){void 0===t&&(t=null),this.ballistic=0,this.energy=0,this.missile=0,null!==t&&(void 0!==t.ballistic&&(this.ballistic=t.ballistic),void 0!==t.energy&&(this.energy=t.energy),void 0!==t.missile&&(this.missile=t.missile))}return t}();t.MechHardpoints=o;var u=function(){function t(t){void 0===t&&(t=null),null!==t&&(this.name=t.name,this.name_translated=t.name_translated,this.type=t.type,this.faction=t.faction,this.tons=t.tons,this.support=void 0!==t.support?t.support:!1,this.guidance=void 0===t.guidance?c.GuidanceType.none:t.guidance)}return t}();t.Weapon=u;var h=function(){function t(t){void 0===t&&(t=null),this.rating=0,this.tons=0,null!==t&&(this.type=t.type,this.rating=t.rating,this.tons=t.tons)}return t}();t.Engine=h;var c;!function(t){!function(t){t[t.InnerSphere=0]="InnerSphere",t[t.Clan=1]="Clan"}(t.FactionType||(t.FactionType={}));t.FactionType;!function(t){t[t.Light=0]="Light",t[t.Medium=1]="Medium",t[t.Heavy=2]="Heavy",t[t.Assault=3]="Assault"}(t.ClassType||(t.ClassType={}));t.ClassType;!function(t){t[t.Normal=0]="Normal",t[t.Champion=1]="Champion",t[t.Hero=2]="Hero",t[t.Special=3]="Special"}(t.MechType||(t.MechType={}));t.MechType;!function(t){t[t.ballistic=0]="ballistic",t[t.energy=1]="energy",t[t.missile=2]="missile"}(t.WeaponType||(t.WeaponType={}));t.WeaponType;!function(t){t[t.std=0]="std",t[t.xl=1]="xl"}(t.EngineType||(t.EngineType={}));t.EngineType;!function(t){t[t.none=0]="none",t[t.standard=1]="standard",t[t.artemis=2]="artemis"}(t.GuidanceType||(t.GuidanceType={}));t.GuidanceType}(c=t.Enum||(t.Enum={}))}(Mechwarrior||(Mechwarrior={}));var RandomBuilder;!function(t){"use strict";var n=function(){function t(t,n){this.dataManager=t,this.buildManager=n,this.Initialize()}return t.prototype.Initialize=function(){var t=this;this.status=new r,this.settings=new s,this.settings.seed.seed=UnknownLibrary.Time.getDate(),this.itemList=new a,this.designerList=new o,this.dataManager.loadAll().then(function(n){t.itemList=n.i,t.designerList.designer=n.d,t.designerList.designer.some(function(n,e){return n["default"]?(t.settings.design.designer=n.id,!0):!1});var e=UnknownLibrary.URLParser.Parse(location.search);if(void 0!==e.s)t.settings.fromLite(JSON.parse(decodeURI(window.atob(e.s)))),t.run(t.settings.seed.seed,!1);else if(Object.keys(e).length){if(void 0!==e.n&&(t.settings.name=String(e.n)),void 0!==e.d&&isFinite(e.d)){var i=Number(e.d);t.designerList.designer.some(function(n,e){return n.id===i?(t.settings.design.designer=n.id,!0):!1})}void 0!==e.t&&isFinite(e.t)&&(t.settings.seed.seed=Number(e.t)),t.run(t.settings.seed.seed,!0)}t.status.json=!0}),this.runBuilder=angular.bind(this,function(n){void 0===n&&(n=!1),t.status.idle()&&t.run(n?-1:UnknownLibrary.Time.getDate(),!0)}),this.getSpeed=angular.bind(this,function(t,n){return Math.round(t/n*16.2*10)/10}),this.validation=function(t){for(var n in t)if(t.hasOwnProperty(n)&&t[n])return!0;return!1}},t.prototype.run=function(t,n){var e=this;void 0===t&&(t=-1),void 0===n&&(n=!1),this.status.build=!0,this.settings.seed.seed=-1===t?UnknownLibrary.Time.getTime():t,this.buildManager.run(this.designerList,this.itemList,this.settings).then(function(i){if(i.status){if(n&&JSON.stringify(new s(new s,!0))===JSON.stringify(new s(e.settings,!0))&&-1!==t){var r=UnknownLibrary.URLParser.Create({n:e.settings.name,t:e.settings.seed.seed,d:e.settings.design.designer?e.settings.design.designer:null});r&&window.history.pushState(null,null,r)}else window.history.pushState(null,null,"?s="+window.btoa(encodeURI(JSON.stringify(e.settings.toLite()))));e.result=i.data}else alert(i.data);e.status.build=!1})},t}();t.Controller=n;var e=function(t){function n(n,e){t.call(this,n,e)}return __extends(n,t),n.prototype.loadAll=function(){var t=this.$q.defer();return this.$q.all([this.load("./json/mechs.json"),this.load("./json/chassis.json"),this.load("./json/weapons.json"),this.load("./json/engines.json"),this.load("./json/designer/default.json")]).then(function(n){var e={i:new a,d:[]};return n[0].data.forEach(function(t,n){e.i.mech.push(new Mechwarrior.MechLite(t))}),e.i.chassis=n[1].data,n[2].data.forEach(function(t,n){e.i.weapon.push(new Mechwarrior.Weapon(t))}),n[3].data.forEach(function(t,n){e.i.engine.push(new Mechwarrior.Engine(t))}),n[4].data.forEach(function(t,n){e.d.push(new u(t))}),t.resolve(e)}),t.promise},n.prototype.loadStockData=function(t){if(-1===t){var n=this.$q.defer();return this.$q.when().then(function(t){return n.resolve(new UnknownLibrary.Response(!1,null))}),n.promise}return this.load("./json/stock/"+t+".json")},n}(UnknownLibrary.LoadJson);t.DataManager=e;var i=function(){function t(t,n){this.xorshift=t,this.dataManager=n}return t.prototype.run=function(t,n,e){var i=this,r=this.dataManager.$q.defer();this.xorshift.seed(e.seed.seed+this.xorshift.getNameSeed(e.name.toLocaleLowerCase()));var s=this.getDesigner(e.design.designer,t.designer),a=this.designToMechlist(s,n,e),o=this.getRandomItemA(a);return this.dataManager.loadStockData(void 0===o?-1:o.id).then(function(t){if(!t.status)return r.resolve(new UnknownLibrary.Response(!1,"候補となるメックを見つけることができませんでした。"));var a=new Mechwarrior.Mech(t.data),o=i.checkRolelist(a,s.roles,e),u=o.length>0?new h(i.getRandomItemA(o)):new h;u.name&&(a.description=u.name),a.omni||(e.upgrade.armor&&(a.upgrades.armor=i.getRandomItemA([{value:!0,weight:u.loadout.upgrades.armor},{value:!1,weight:u.loadout.upgrades.armor>=100?0:1}]).value),e.upgrade.structure&&(a.upgrades.structure=i.getRandomItemA([{value:!0,weight:u.loadout.upgrades.structure},{value:!1,weight:u.loadout.upgrades.structure>=100?0:1}]).value),e.upgrade.heatsink&&(a.upgrades.heatsink=i.getRandomItemA([{value:!0,weight:u.loadout.upgrades.heatsink},{value:!1,weight:u.loadout.upgrades.heatsink>=100?0:1}]).value)),e.upgrade.guidance&&(a.upgrades.guidance=i.getRandomItemA([{value:!0,weight:u.loadout.upgrades.guidance},{value:!1,weight:u.loadout.upgrades.guidance>=100?0:1}]).value),e.other.jumpjet&&(a.jumpjets.current=Math.ceil(a.jumpjets.max*i.xorshift.range(u.loadout.jumpjets.min,u.loadout.jumpjets.max)/100)),e.other.armor&&(a.armor.current=Math.floor(a.armor.max*i.xorshift.range(u.loadout.armor.min,u.loadout.armor.max)/100)),a.ecm&&(a.ecm=i.getRandomItemA([{value:!0,weight:u.loadout.ecm},{value:!1,weight:u.loadout.ecm>=100?0:1}]).value);var c=i.selectEngine(a,n.engine,u.loadout.engines,e);return a.engine.current=i.getRandomItemA(c),a.weapon=i.selectWeapon(a,n.weapon,u.loadout.weapons,e),r.resolve(new UnknownLibrary.Response(!0,a))}),r.promise},t.prototype.designToMechlist=function(t,n,e){if(null===t)return null;var i=[],r="default",s=void 0!==t.chassis[r]?t.chassis[r]:1;for(var a in n.chassis)n.chassis.hasOwnProperty(a)&&n.chassis[a].forEach(function(r,o){var u=null;n.mech.some(function(n,o){return n.id===r?(u=n,void 0!==t.variants[u.name]?u.weight=t.variants[u.name]:void 0!==t.chassis[a]?u.weight=t.chassis[a]:u.weight=s,u.weight>0&&e["class"][Mechwarrior.Enum.ClassType[u["class"]].toLowerCase()]&&e.variant[Mechwarrior.Enum.MechType[u.type].toLowerCase()]&&e.tech[Mechwarrior.Enum.FactionType[u.faction]]&&(!e.weapon.ballistic&&!e.weapon.energy&&!e.weapon.missile||u.hardpoints.ballistic>0&&e.weapon.ballistic||u.hardpoints.energy>0&&e.weapon.energy||u.hardpoints.missile>0&&e.weapon.missile)&&i.push(u),!0):!1})});return i},t.prototype.checkRolelist=function(t,n,e){if(null===n)return null;var i=[];return n.forEach(function(n,r){n.requirements.some(function(r,s){if(!(t.tons>=r.tons.min&&t.tons<=r.tons.max))return!1;for(var a in r.hardpoints)if(r.hardpoints.hasOwnProperty(a)&&(t.hardpoints[a]<r.hardpoints[a]||!e.weapon[a]&&r.hardpoints[a]>0))return!1;return r.ecm&&!t.ecm?!1:r.jumpjets&&0===t.jumpjets.max?!1:(i.push(n),!1)})}),i},t.prototype.selectEngine=function(t,n,e,i){if(null===t||null===n)return null;var r=[],s=t.tons-(t.tons_fixed+t.armor.current/(t.upgrades.armor?35.8:32)+t.tons*(t.upgrades.structure?5:10)/100);return n.forEach(function(n,a){var o=Mechwarrior.Enum.EngineType[n.type];if(!t.omni&&i.engine[o]&&n.rating>=t.engine.min&&n.rating<=t.engine.max){var u=10-(n.rating>=250?10:Math.floor(n.rating/25)),h=void 0===e?20*t.tons/100:e.tons.min,c=void 0===e?70*t.tons/100:n.type===Mechwarrior.Enum.EngineType.std?e.tons.max:3*e.tons.max;if(s>=n.tons+u+h&&s<=n.tons+u+c&&(void 0===e||void 0!==e[o][n.rating])){var l=void 0===e?1:n.rating/t.tons*e[o][n.rating];r.push(new g(n,l))}}}),0===r.length&&n.some(function(n,e){return n.type===t.engine.stock.type&&n.rating===t.engine.stock.rating?(r.push(new g(n)),!0):!1}),r},t.prototype.selectWeapon=function(t,n,e,i){var r=this;if(null===t||null===n)return null;var s={},a=new m,o={ballistic:t.hardpoints.ballistic,energy:t.hardpoints.energy,missile:t.hardpoints.missile},u=t.tons-(t.engine.current.tons+t.tons_fixed+(10-(t.engine.current.rating>=250?10:Math.floor(t.engine.current.rating/25)))+t.armor.current/(t.upgrades.armor?35.8:32)+t.tons*(t.upgrades.structure?5:10)/100);for(var h in a)a.hasOwnProperty(h)&&(n.forEach(function(n,c){var l=1;if(u>=n.tons+l&&o[Mechwarrior.Enum.WeaponType[n.type]]>0&&t.faction===n.faction&&t.hardpoints[Mechwarrior.Enum.WeaponType[n.type]]>0&&i.weapon[Mechwarrior.Enum.WeaponType[n.type]]&&(!n.support||n.support&&i.weapon2.support&&"primary"!==h)&&(n.guidance===Mechwarrior.Enum.GuidanceType.none||!t.upgrades.guidance&&n.guidance===Mechwarrior.Enum.GuidanceType.standard||t.upgrades.guidance&&n.guidance===Mechwarrior.Enum.GuidanceType.artemis)&&(void 0===e||void 0!==e[h]&&e[h][n.name])&&r.checkCurrentWeapon(n.name,s)){var d=void 0===e?1:void 0===e[h]?1:e[h][n.name];a[h][n.name]={name:n.name,weight:d}}}),Object.keys(a[h]).length>0&&(void 0===s[h]&&(s[h]={}),s[h]=this.getWeapon(this.getRandomItem(a[h]).name,n),o[Mechwarrior.Enum.WeaponType[s[h].type]]-=1,u-=s[h].tons));return s},t.prototype.checkCurrentWeapon=function(t,n){for(var e in n)if(n.hasOwnProperty(e)&&n[e].name===t)return!1;return!0},t.prototype.getDesigner=function(t,n){var e=null;return n.some(function(n,i){return n.id===t?(e=n,!0):!1}),e},t.prototype.getWeapon=function(t,n){var e=null;return n.some(function(n,i){return n.name===t?(e=n,!0):!1}),e},t.prototype.getRandomItem=function(t,n){void 0===n&&(n=1);var e=new UnknownLibrary.Max;for(var i in t)if(t.hasOwnProperty(i)){var r=this.xorshift.rand()%100*(void 0!==t[i].weight?t[i].weight:n);r>e.value&&(e.value=r,e.target=t[i])}return void 0!==e.target&&void 0!==e.target.weight&&delete e.target.weight,e.target},t.prototype.getRandomItemA=function(t,n){var e=this;void 0===n&&(n=1);var i=new UnknownLibrary.Max;return t.forEach(function(r,s){var a=e.xorshift.rand()%100*(void 0!==t[s].weight?t[s].weight:n);a>i.value&&(i.value=a,i.target=t[s])}),void 0!==i.target&&void 0!==i.target.weight&&delete i.target.weight,i.target},t}();t.BuildManager=i;var r=function(){function t(){this.json=!1,this.build=!1}return t.prototype.idle=function(){return this.json&&!this.build},t}(),s=function(){function t(t,n){if(void 0===t&&(t=null),void 0===n&&(n=!1),this.name="",this.tech={InnerSphere:!0,Clan:!0},this["class"]={light:!0,medium:!0,heavy:!0,assault:!0},this.variant={normal:!0,champion:!1,hero:!0,special:!1},this.weapon={ballistic:!0,energy:!0,missile:!0},this.weapon2={support:!0},this.upgrade={armor:!0,structure:!0,heatsink:!0,guidance:!0},this.engine={std:!0,xl:!0},this.other={quirk:!0,armor:!0,jumpjet:!0},this.design={designer:0},this.seed={seed:0},null!==t)for(var e in t)t.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(!n||"name"!==e&&"seed"!==e&&"design"!==e)&&(this[e]=t[e])}return t.prototype.toLite=function(){var t=[];return t.push(this.name),t.push(UnknownLibrary.Bitflag.convert([this.tech.InnerSphere,this.tech.Clan]).toString(16)+UnknownLibrary.Bitflag.convert([this["class"].light,this["class"].medium,this["class"].heavy,this["class"].assault]).toString(16)+UnknownLibrary.Bitflag.convert([this.variant.normal,this.variant.champion,this.variant.hero,this.variant.special]).toString(16)+UnknownLibrary.Bitflag.convert([this.weapon.ballistic,this.weapon.energy,this.weapon.missile]).toString(16)+UnknownLibrary.Bitflag.convert([this.upgrade.armor,this.upgrade.structure,this.upgrade.heatsink,this.upgrade.guidance]).toString(16)+UnknownLibrary.Bitflag.convert([this.engine.std,this.engine.xl]).toString(16)+UnknownLibrary.Bitflag.convert([this.other.quirk,this.other.armor,this.other.jumpjet]).toString(16)),t.push(this.design.designer),t.push(this.seed.seed),t},t.prototype.fromLite=function(t){this.name=t[0];var n=parseInt(t[1].substr(0,1),16);this.tech.InnerSphere=!!(1&n),this.tech.Clan=!!(2&n);var e=parseInt(t[1].substr(1,1),16);this["class"].light=!!(1&e),this["class"].medium=!!(2&e),this["class"].heavy=!!(4&e),this["class"].assault=!!(8&e);var i=parseInt(t[1].substr(2,1),16);this.variant.normal=!!(1&i),this.variant.champion=!!(2&i),this.variant.hero=!!(4&i),this.variant.special=!!(8&i);var r=parseInt(t[1].substr(3,1),16);this.weapon.ballistic=!!(1&r),this.weapon.energy=!!(2&r),this.weapon.missile=!!(4&r);var s=parseInt(t[1].substr(4,1),16);this.upgrade.armor=!!(1&s),this.upgrade.structure=!!(2&s),this.upgrade.heatsink=!!(4&s),this.upgrade.guidance=!!(8&s);var a=parseInt(t[1].substr(5,1),16);this.engine.std=!!(1&a),this.engine.xl=!!(2&a);var o=parseInt(t[1].substr(6,1),16);this.other.quirk=!!(1&o),this.other.armor=!!(2&o),this.other.jumpjet=!!(4&o),this.design.designer=t[2],this.seed.seed=t[3]},t}(),a=function(){function t(){this.mech=[],this.weapon=[],this.engine=[]}return t}(),o=function(){function t(){}return t}(),u=function(){function t(t){var n=this;this.id=0,this.name=null,this.description=null,this.chassis={},this.variants={},this.roles=[],this["default"]=!1,null!==t&&(this.id=t.id,this.name=t.name,this.description=t.description,this.chassis=t.chassis,this.variants=t.variants,void 0!==t.roles&&t.roles.length>0&&t.roles.forEach(function(t,e){n.roles.push(new h(t))}),this["default"]=void 0===t["default"]?!1:t["default"])}return t}(),h=function(t){function n(n){var e=this;void 0===n&&(n=null),t.call(this),this.name=null,this.requirements=[],this.loadout=new l,null!==n&&(this.name=n.name,void 0!==n.requirements&&n.requirements.length>0&&n.requirements.forEach(function(t,n){e.requirements.push(new c(t))}),this.loadout=new l(n.loadout),void 0!==n.weight&&(this.weight=n.weight))}return __extends(n,t),n}(UnknownLibrary.Weighting),c=function(){function t(t){this.tons={min:0,max:100},this.hardpoints=new Mechwarrior.MechHardpoints,this.ecm=!1,this.jumpjets=!1,null!==t&&(void 0!==t.tons&&(void 0!==t.tons.min&&(this.tons.min=t.tons.min),void 0!==t.tons.max&&(this.tons.max=t.tons.max)),this.hardpoints=new Mechwarrior.MechHardpoints(t.hardpoints),void 0!==t.ecm&&(this.ecm=t.ecm),void 0!==t.jumpjets&&(this.jumpjets=t.jumpjets))}return t}(),l=function(){function t(t){void 0===t&&(t=null),this.armor=new UnknownLibrary.MinMax(50,100),this.heatsink=new UnknownLibrary.MinMax(100,140),this.jumpjets=new UnknownLibrary.MinMax(0,100),this.upgrades=new d,this.ecm=1,null!==t&&(this.armor=new UnknownLibrary.MinMax(t.armor.min,t.armor.max),this.heatsink=new UnknownLibrary.MinMax(t.heatsink.min,t.heatsink.max),this.jumpjets=new UnknownLibrary.MinMax(t.jumpjets.min,t.jumpjets.max),this.upgrades=new d(t.upgrades),void 0!==t.engines&&(this.engines=new p(t.engines)),void 0!==t.weapons&&(this.weapons=new m(t.weapons)))}return t}(),d=function(){function t(t){void 0===t&&(t=null),this.armor=1,this.structure=1,this.heatsink=1,this.guidance=1,null!==t&&(this.armor=t.armor,this.structure=t.structure,this.heatsink=t.heatsink,this.guidance=t.guidance)}return t}(),p=function(){function t(t){if(void 0===t&&(t=null),this.tons=new UnknownLibrary.MinMax(-1,100),this.std={},this.xl={},null!==t){void 0!==t.tons&&(this.tons=new UnknownLibrary.MinMax(t.tons.min,t.tons.max));for(var n in t)if(t.hasOwnProperty(n)&&this.hasOwnProperty(n)&&"tons"!==n)for(var e in t[n])t[n].hasOwnProperty(e)&&(this[n][e]=t[n][e])}}return t}(),g=function(t){function n(n,e){if(void 0===n&&(n=null),void 0===e&&(e=null),t.call(this),this.type=Mechwarrior.Enum.EngineType.std,this.rating=0,this.tons=0,null!==n){for(var i in n)n.hasOwnProperty(i)&&this.hasOwnProperty(i)&&void 0!==n[i]&&(this[i]=n[i]);void 0!==n.weight?this.weight=n.weight:null!==e&&(this.weight=e)}}return __extends(n,t),n}(UnknownLibrary.Weighting),m=function(){function t(t){if(void 0===t&&(t=null),this.primary={},this.secondary={},this.tertiary={},null!==t)for(var n in t)if(t.hasOwnProperty(n))for(var e in t[n])t[n].hasOwnProperty(e)&&this.hasOwnProperty(n)&&(this[n][e]=t[n][e])}return t}()}(RandomBuilder||(RandomBuilder={}));var app=angular.module("app",[]).service("xorshift",[UnknownLibrary.XorShift]).service("dataManager",["$http","$q",RandomBuilder.DataManager]).service("buildManager",["xorshift","dataManager",RandomBuilder.BuildManager]).component("builder",{templateUrl:"./template/form.html",controller:["dataManager","buildManager",RandomBuilder.Controller],controllerAs:"rb"}).filter("capitalize",UnknownLibrary.Angular.Filter.Capitalize);angular.bootstrap(document.body,[app.name]);