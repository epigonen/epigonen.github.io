$(function(){new Autoindex});var Autoindex=function(){function t(t){void 0===t&&(t=".autoindex"),this.ai=t,this.list=[],$(this.ai).length&&(this.menu(),this.nav(),this.subMenu(),$(this.ai+"-menu a, "+this.ai+"-submenu a").click(function(t){$("html, body").stop().animate({scrollTop:$($(t.target).attr("href")).offset().top},250)}))}return t.prototype.menu=function(){var t=this,i=$("<ul>"),e=$("<nav>",{"class":"sub-section pricetable"});$(this.ai).find("article").each(function(n,a){$(a).find("h2").each(function(s,p){var h=$(a).attr("id");t.list.push(new AutoindexChild(p,h)),i.append($("<li>").append($("<a>",{text:$(p).text(),href:"#"+h}))),0!==n&&e.append($("<a>",{href:"#"+h}).append($("<b>",{text:$(p).text()})).append($("<img>",{src:"./img/pt/"+h+".png"})))})}),$(this.ai+"-menu").append(i),$(this.ai+"-tilemenu").append(e)},t.prototype.nav=function(){var t=this;$(this.ai).find("article"+this.ai+"-nav").each(function(i,e){var n=$("<ul>",{"class":"navigation"}),a=i>0?i-1:-1,s=i+1<t.list.length?i+1:-1;-1!==a&&n.append(t.getNavChild(t.list[a],"prev")),-1!==s&&n.append(t.getNavChild(t.list[s],"next")),-1===a&&-1===s||$(e).prepend($("<div>",{"class":"container"}).append(n))})},t.prototype.subMenu=function(){$(this.ai).find("ul"+this.ai+"-submenu").each(function(t,i){var e=$(i).closest("article, section");e.children("section").each(function(t,e){void 0===$(e).attr("id")?$(i).append($("<li>",{text:$(e).text()})):$(i).append($("<li>").append($("<a>",{text:$(e).children("h3, h4").text(),href:"#"+$(e).attr("id")})))})})},t.prototype.getNavChild=function(t,i){var e=$("<li>",{"class":i}).append($("<a>",{text:$(t.element).text(),href:"#"+t.id}));return e},t}(),AutoindexChild=function(){function t(t,i){this.element=t,this.id=i}return t}();